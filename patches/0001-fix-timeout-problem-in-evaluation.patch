From 2d85574b138e34631823620dde88282b142df8d2 Mon Sep 17 00:00:00 2001
From: Yuanhao Li <erwinli@qq.com>
Date: Thu, 24 Oct 2024 19:02:14 +0100
Subject: [PATCH 1/3] fix timeout problem in evaluation

---
 rllib/algorithms/algorithm.py | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/rllib/algorithms/algorithm.py b/rllib/algorithms/algorithm.py
index f4c3e00501..e5288d50c8 100644
--- a/rllib/algorithms/algorithm.py
+++ b/rllib/algorithms/algorithm.py
@@ -1466,7 +1466,7 @@ class Algorithm(Checkpointable, Trainable, AlgorithmBase):
                     ),
                 )
                 results = self.eval_env_runner_group.fetch_ready_async_reqs(
-                    return_obj_refs=False, timeout_seconds=0.01
+                    return_obj_refs=False, timeout_seconds=time_out
                 )
                 # Make sure we properly time out if we have not received any results
                 # for more than `time_out` seconds.
@@ -1509,7 +1509,7 @@ class Algorithm(Checkpointable, Trainable, AlgorithmBase):
                     remote_worker_ids=selected_eval_worker_ids,
                 )
                 results = self.eval_env_runner_group.fetch_ready_async_reqs(
-                    return_obj_refs=False, timeout_seconds=0.01
+                    return_obj_refs=False, timeout_seconds=time_out
                 )
                 # Make sure we properly time out if we have not received any results
                 # for more than `time_out` seconds.
-- 
2.34.1

